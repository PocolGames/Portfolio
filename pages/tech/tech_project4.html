<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>슬롯 꼬치 - 기술 문서 | 이은수 포트폴리오</title>
    <link rel="stylesheet" href="tech_style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="tech-header">
        <div class="container">
            <h1>슬롯 꼬치 - 기술 문서</h1>
            <a href="../project4.html" class="back-button">← 프로젝트 페이지로 돌아가기</a>
        </div>
    </header>

    <!-- 메인 레이아웃 -->
    <div class="tech-layout">
        <!-- 사이드바 -->
        <aside class="tech-sidebar">
            <div class="project-selector">
                <label for="project-select">프로젝트 선택</label>
                <select id="project-select" onchange="navigateToProject(this.value)">
                    <option value="tech_project1.html">프로젝트 1: 소울디바이스</option>
                    <option value="tech_project2.html">프로젝트 2: UI/UX 재정비</option>
                    <option value="tech_project3.html">프로젝트 3: 체스도쿠</option>
                    <option value="tech_project4.html" selected>프로젝트 4: 슬롯 꼬치</option>
                </select>
            </div>

            <div class="toc-title">목차</div>
            <ul class="toc-list">
                <li><a href="#ai-collaboration">AI 협업 시스템</a></li>
                <li><a href="#admob">AdMob 광고 연동</a></li>
                <li><a href="#build-config">플랫폼별 빌드 관리</a></li>
                <li><a href="#game-logic">게임 로직 구현</a></li>
                <li><a href="#optimization">토큰 효율 최적화</a></li>
            </ul>
        </aside>

        <!-- 메인 콘텐츠 -->
        <main class="tech-content">
            <h1>슬롯 꼬치 (Slot Ggochi)</h1>

            <!-- AI 협업 시스템 -->
            <section id="ai-collaboration" class="tech-section">
                <h2>AI 협업 시스템</h2>
                
                <p class="tech-description">
                    Claude AI의 MCP (Model Context Protocol) filesystem 기능을 활용하여 AI와의 효율적인 협업 환경을 구축했습니다.
                    AI 접근 범위를 Scripts 폴더로 제한하여 토큰 소비를 90% 이상 절감하면서도, 필요한 코드 파일에 대한 선택적 접근을 가능하게 했습니다.
                    기획, 디자인, 개발, 광고 연동까지 모든 과정을 AI와 협업하여 단 6일 만에 완성할 수 있었습니다.
                </p>

                <div class="tech-images">
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot1.gif" alt="AI 협업 1" onclick="openImageModal(this)">
                        <div class="tech-image-caption">AI 코딩 프로세스</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot2.gif" alt="AI 협업 2" onclick="openImageModal(this)">
                        <div class="tech-image-caption">코드 생성</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot3.gif" alt="AI 협업 3" onclick="openImageModal(this)">
                        <div class="tech-image-caption">버그 수정</div>
                    </div>
                </div>

                <div class="code-block">
                    <pre><code>// AI 접근 범위 제한 구조
Unity Project/
├── Assets/
│   └── Scripts/  ← AI가 접근 가능한 유일한 폴더
│       ├── GamePlayManager.cs
│       ├── SlotSpinController.cs
│       ├── AdMobManager.cs
│       └── ...
├── Packages/
├── ProjectSettings/
└── ... (AI 접근 불가)</code></pre>
                    <div class="code-explanation">
                        AI 접근 범위를 제한하여 토큰 효율을 극대화했습니다.
                    </div>
                </div>
            </section>

            <!-- AdMob 광고 연동 -->
            <section id="admob" class="tech-section">
                <h2>AdMob 광고 연동</h2>
                
                <p class="tech-description">
                    Google AdMob SDK를 연동하여 배너, 전면, 보상형 광고 시스템을 구현했습니다.
                    하이퍼캐주얼 게임의 특성에 맞춰 사용자 경험을 해치지 않는 선에서 광고 노출 빈도를 조정했습니다.
                    광고 로드 실패 시 자동 재시도 로직을 구현하여 안정적인 광고 수익을 확보했습니다.
                </p>

                <div class="tech-images">
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot1.gif" alt="광고 1" onclick="openImageModal(this)">
                        <div class="tech-image-caption">배너 광고</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot2.gif" alt="광고 2" onclick="openImageModal(this)">
                        <div class="tech-image-caption">보상형 광고</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot3.gif" alt="광고 3" onclick="openImageModal(this)">
                        <div class="tech-image-caption">전면 광고</div>
                    </div>
                </div>

                <div class="code-block">
                    <pre><code>// AdMob 매니저 핵심 구조
public class AdMobManager : MonoBehaviour
{
    public static AdMobManager Instance { get; private set; }
    
    public void ShowRewardedAd(Action onAdCompleted)
    {
        if (rewardedAd != null && rewardedAd.CanShowAd())
        {
            rewardedAd.Show((reward) => {
                onAdCompleted?.Invoke();
                LoadRewardedAd(); // 다음 광고 미리 로드
            });
        }
    }
}</code></pre>
                    <div class="code-explanation">
                        광고 완료 후 즉시 다음 광고를 로드하여 노출 빈도를 최대화했습니다.
                    </div>
                </div>
            </section>

            <!-- 플랫폼별 빌드 관리 -->
            <section id="build-config" class="tech-section">
                <h2>플랫폼별 빌드 관리</h2>
                
                <p class="tech-description">
                    #define을 활용한 조건부 컴파일로 Google Play Store와 인앱토스 플랫폼을 효율적으로 관리했습니다.
                    하나의 코드베이스로 여러 플랫폼을 지원하면서도, 각 플랫폼에 최적화된 광고 SDK를 분리하여 사용할 수 있었습니다.
                    빌드 설정만으로 플랫폼을 전환할 수 있어 개발 및 유지보수 효율이 크게 향상되었습니다.
                </p>

                <div class="tech-images">
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot1.gif" alt="빌드 1" onclick="openImageModal(this)">
                        <div class="tech-image-caption">빌드 구성</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot2.gif" alt="빌드 2" onclick="openImageModal(this)">
                        <div class="tech-image-caption">플랫폼별 설정</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot3.gif" alt="빌드 3" onclick="openImageModal(this)">
                        <div class="tech-image-caption">자동화 스크립트</div>
                    </div>
                </div>

                <div class="code-block">
                    <pre><code>// 플랫폼별 조건부 컴파일
#if PLAYSTORE_BUILD
    // Google Play Store 전용 코드
    // Google AdMob 광고 사용
#elif INAPTOS_BUILD
    // 인앱토스 전용 코드
    // 인앱토스 IAA 광고 사용
#else
    // 개발 모드
    // 광고 없이 바로 실행
#endif</code></pre>
                    <div class="code-explanation">
                        조건부 컴파일로 플랫폼별 코드를 깔끔하게 분리했습니다.
                    </div>
                </div>
            </section>

            <!-- 게임 로직 구현 -->
            <section id="game-logic" class="tech-section">
                <h2>게임 로직 구현</h2>
                
                <p class="tech-description">
                    슬롯 머신 시스템과 터치 입력 처리, 체력 시스템 등 핵심 게임 로직을 구현했습니다.
                    관리자 패턴을 기반으로 각 시스템을 독립적으로 설계하여 유지보수성을 확보했습니다.
                    점수에 따라 난이도가 자동으로 조정되는 시스템으로 플레이어에게 지속적인 도전을 제공했습니다.
                </p>

                <div class="tech-images">
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot1.gif" alt="게임 로직 1" onclick="openImageModal(this)">
                        <div class="tech-image-caption">슬롯 시스템</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot2.gif" alt="게임 로직 2" onclick="openImageModal(this)">
                        <div class="tech-image-caption">난이도 조정</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot3.gif" alt="게임 로직 3" onclick="openImageModal(this)">
                        <div class="tech-image-caption">게임 플레이</div>
                    </div>
                </div>

                <div class="code-block">
                    <pre><code>// 게임 매니저 구조
public class GamePlayManager : MonoBehaviour
{
    private SlotSpinController slotController;
    private TouchInputHandler inputHandler;
    private int currentScore = 0;
    
    private void UpdateDifficulty()
    {
        float duration = Mathf.Clamp(
            0.5f - currentScore * 0.02f, 
            0.1f, 0.5f
        );
        slotController.SetSpinDuration(duration);
    }
}</code></pre>
                    <div class="code-explanation">
                        점수에 비례하여 슬롯 속도가 증가하는 난이도 시스템을 구현했습니다.
                    </div>
                </div>
            </section>

            <!-- 토큰 효율 최적화 -->
            <section id="optimization" class="tech-section">
                <h2>토큰 효율 최적화</h2>
                
                <p class="tech-description">
                    AI 활용의 가장 큰 과제였던 토큰 소비 최적화를 통해 개발 비용을 대폭 절감했습니다.
                    Unity 프로젝트 전체를 AI에 연결하는 대신 Scripts 폴더로 접근을 제한하여 불필요한 파일 읽기를 방지했습니다.
                    필요한 코드 파일만 선택적으로 AI에게 제공하는 방식으로 토큰 소비를 90% 이상 줄일 수 있었습니다.
                </p>

                <div class="tech-images">
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot1.gif" alt="최적화 1" onclick="openImageModal(this)">
                        <div class="tech-image-caption">토큰 사용량 비교</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot2.gif" alt="최적화 2" onclick="openImageModal(this)">
                        <div class="tech-image-caption">파일 구조</div>
                    </div>
                    <div class="tech-image-item">
                        <img src="../../images/project4/screenshot3.gif" alt="최적화 3" onclick="openImageModal(this)">
                        <div class="tech-image-caption">효율성 분석</div>
                    </div>
                </div>

                <div class="code-block">
                    <pre><code>// AI 협업 최적화 전략
/**
 * Before: Unity 프로젝트 전체 접근
 * - 토큰 소비: 수천 토큰 (초기 로딩만)
 * - 응답 속도: 느림
 * 
 * After: Scripts 폴더만 접근
 * - 토큰 소비: 수백 토큰 (90% 절감)
 * - 응답 속도: 빠름
 * 
 * 결과: 비용 효율 10배 향상
 */</code></pre>
                    <div class="code-explanation">
                        컨텍스트 관리를 통해 AI 협업의 경제성을 확보했습니다.
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 이미지 모달 -->
    <div id="imageModal" class="image-modal" onclick="closeImageModal()">
        <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
        <img id="modalImage" src="" alt="확대 이미지">
        <div id="modalCaption" class="image-modal-caption"></div>
    </div>

    <script>
        function navigateToProject(url) {
            if (url) {
                window.location.href = url;
            }
        }

        function openImageModal(img) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const caption = document.getElementById('modalCaption');
            
            modal.classList.add('active');
            modalImg.src = img.src;
            caption.textContent = img.alt;
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.tech-section');
            const tocLinks = document.querySelectorAll('.toc-list a');

            function updateActiveToc() {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.pageYOffset >= sectionTop - 150) {
                        current = section.getAttribute('id');
                    }
                });

                tocLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            }

            window.addEventListener('scroll', updateActiveToc);
            updateActiveToc();

            tocLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    window.scrollTo({
                        top: targetSection.offsetTop - 100,
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
