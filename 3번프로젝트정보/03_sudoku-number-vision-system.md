# 타일의 종류와 시야 시스템 용어 정리

이 문서에서는 스도쿠 칸의 종류와 시야 시스템에서 플레이어에게 어떻게 시야 시스템이 적용되는지 정리해놓은 문서입니다.
기물의 기본적인 이동 방식은 

# 칸의 종류 정리

스도쿠 칸은 두 종류로 나눠집니다. 그리고 시야 시스템에 의해서 유저가 볼 수 있는지 볼 수 없는 지 정해집니다.

1. 힌트칸: 번호가 기입되어 있는 칸입니다.
2. 퍼즐칸: 번호가 기입되어 있지 않는 칸입니다.

# 시야 시스템

기본적으로 스도쿠 칸의 번호는 초기 시야로 설정된 칸을 제외하고 보여주지 않으며, 기물을 이용하여 맵의 시야를 확보해야됩니다.
따라서, 플레이어 별로 볼 수 있는 시야가 다릅니다.

## 1. 초기 시야 (게임 시작 시)

초기 시야는 배치가능한 영역입니다.

- **플레이어 1**: 7행, 8행(맨 아래줄과 윗줄)의 모든 칸
- **플레이어 2**: 0행, 1행(맨 윗줄과 그 아래줄)의 모든 칸


## 2. 시야 확보
기물의 시야 범위만큼 시야가 확보되어 퍼즐칸과 힌트칸을 확보하는 행위입니다.
시야는 4가지 종류로 나눠집니다.

1. 숨겨진 시야
2. 반시야
3. 완전시야
4. 절대시야
   1. 공유되는 절대시야
   2. 공유되지 않는 절대시야

### 1. 숨겨진 시야

숨겨진 시야는 기물로 시야를 확보하지 않아 보이지 않는 시야입니다.
숨겨진 시야는 플레이어별로 다르게 적용됩니다.

### 2. 반시야

반시야는 기물로 확보를 했던 시야입니다. 이 반시야가 적용된 칸은 스도쿠 칸의 종류가 힌트칸이라면 스도쿠 번호가 보이게 됩니다.
반시야가 적용된 칸은 상대 기물이 보이지 않습니다.
반시야는 플레이어별로 다르게 적용됩니다.

### 3. 완전시야

완전시야는 현재 기물의 시야입니다. 이 완전시야가 적용된 칸은 스도쿠 칸의 종류가 힌트칸이라면 스도쿠 번호가 보이고, 상대방의 기물이 있다면 상대방의 기물도 보입니다.
그리고 기물이 그곳에서 벗어나서 시야 범위가 아니게 된다면 그 칸은 반시야 칸이 됩니다.
완전시야는 플레이어별로 다르게 적용됩니다.

### 4. 절대시야

절대시야는 기물의 시야에 포함되지 않은 칸임에도 불구하고 완전시야로 적용되는 칸입니다.


#### 1. 공유되는 절대시야

공유되는 절대시야가 적용되는 칸은 3x3, 열, 행이 완성되는 경우입니다. 이런 경우는 공유되는 절대시야가 적용되는 칸이 되며, 두 플레이어 모두 완전시야로 적용됩니다.
공유되는 절대시야는 플레이어가 같이 적용됩니다.

#### 2. 공유되지 않는 절대시야

공유되지 않는 절대시야가 적용되는 칸은 각 플레이어의 배치 가능한 칸입니다. 
공유되지 않는 절대시야는 플레이어별로 다르게 적용됩니다.

##### 배치 영역 제한
- **1번 플레이어**: 맨 아래부터 (라운드별 확장)
  - 1-4라운드: 7행, 8행
  - 5-9라운드: 6행, 7행, 8행
  - 10라운드+: 3행, 4행, 5행, 6행, 7행, 8행
- **2번 플레이어**: 맨 위부터 (라운드별 확장)
  - 1-4라운드: 0행, 1행
  - 5-9라운드: 0행, 1행, 2행
  - 10라운드+: 0행, 1행, 2행, 3행, 4행, 5행

#### 상태변화

기본적인 시야 로직은 다음과 같이 적용됩니다. 기본적으로 완전시야 상태와 반시야 상대가 계속해서 전환이 됩니다.
한번 절대시야가 적용된 칸은 돌아올 수 없고, 한번 숨겨진 시야에서 벗어난 칸은 다시 숨겨진 시야로 돌아갈 수 없습니다.

``` 
[숨겨진 시야] -> [기물로 인해 완전시야] <-> [기물이 벗어나서 반시야] -> [스도쿠가 완성이 되면 공유되는 절대시야]
```

## 3. 기물과 연관이 있는 시야 시스템

시야 시스템은 각 유저가 배치가 가능한 '공유되지 않는 절대 시야 칸'이나 스도쿠 완성으로 공유되는 '절대 시야가 되는 칸' 이외에는 기물을 배치하면서 '스도쿠 번호를 볼 수 있는가'와 '상대 기물도 보이는 가'로 구분지을 수 있다.

일단, 기물을 배치하면서 기물의 시야 조건에 의하여 완전 시야로 밝혀지게 된다. 하지만, 이 경로에 기물이 있다면 기물에 의해 완전 시야 경로가 막히게 된다. 추가로 상대 기물이 있는 칸은 특수하게 완전시야 임에도 스도쿠 번호를 볼 수 없는 상태이다.
기존에 이 칸의 정보를 얻었더라도 스도쿠 맵에서는 볼 수가 없다. 물론, 미니맵 UI에는 이미 표기가 되어 있으니 상관없다.
그리고 그 곳에서 벗어나면 완전 시야는 스도쿠 번호만 보이는 반시야 상태가 된다.

따라서, 플레이어는 상대가 보지 못한 힌트칸이나 힌트칸이 된 퍼즐칸 또는 퍼즐칸을 막고 서있어서 전략적인 행동을 할 수가 있다.

---

* 작성일: `2025-07-08`
* 작성자: 이은수
* 내용: 이은수